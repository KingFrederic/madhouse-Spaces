<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MADhouse Space Rental</title>
  <style>
    :root { --orange:#ff6a00; --bg:#000; --text:#fff; --muted:rgba(255,255,255,.7); --muted2:rgba(255,255,255,.55); --card:rgba(255,255,255,.06); --border:rgba(255,255,255,.12);} 
    html{scroll-behavior:smooth} body{margin:0;background:var(--bg);color:var(--text);font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Helvetica Neue,Arial,"Apple Color Emoji","Segoe UI Emoji"}
    .topnav{position:fixed;inset-inline:0;top:0;z-index:40;display:flex;justify-content:center;pointer-events:none}
    .topnav-inner{width:min(1200px,100%);display:flex;justify-content:space-between;align-items:center;gap:16px;padding:16px}
    .chip{pointer-events:auto;border:1px solid var(--border);background:rgba(0,0,0,.6);padding:8px 14px;border-radius:999px;font-weight:800;font-size:14px;backdrop-filter:blur(8px)}
    .nav{pointer-events:auto;display:none;gap:6px;border:1px solid var(--border);background:rgba(0,0,0,.6);padding:6px;border-radius:999px;backdrop-filter:blur(8px)}
    @media (min-width: 768px){.nav{display:flex}}
    .nav a{color:rgba(255,255,255,.8);text-decoration:none;font-size:12px;padding:8px 10px;border-radius:999px;transition:box-shadow .25s,color .25s,border-color .25s}
    .nav a:hover{color:#fff;box-shadow:0 0 16px rgba(255,106,0,.35)}
    .section{position:relative;min-height:100svh;display:grid;place-items:center;overflow:hidden}
    .bg-layer{position:absolute;inset:0;background-size:cover;background-position:center;transform:translateZ(0);will-change:transform}
    .overlay{position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,.7) 0%,rgba(0,0,0,.65) 40%,rgba(0,0,0,.6) 100%)}
    .content{position:relative;z-index:10;width:min(1100px,92%);margin-inline:auto;padding:80px 0}
    .center{text-align:center}
    .title-xl{font-size:clamp(38px,7vw,64px);line-height:1.08;font-weight:900;margin:0 0 12px}
    .subtitle{font-size:clamp(16px,2.6vw,22px);color:var(--muted);margin:6px 0 4px}
    .hoursline{color:var(--muted2)}
    .lead{color:var(--muted);max-width:820px;margin:8px auto 0}
    .grid-2{display:grid;grid-template-columns:1fr;gap:20px}
    @media (min-width: 900px){.grid-2{grid-template-columns:1fr 1fr}}
    .card{background:var(--card);border:1px solid var(--border);border-radius:18px;padding:20px;transition:box-shadow .3s,border-color .3s;backdrop-filter:blur(6px)}
    .card:hover{box-shadow:0 0 24px rgba(255,106,0,.35);border-color:rgba(255,106,0,.6)}
    .card h4{margin:0 0 12px;font-size:18px}
    .card ul{margin:0;padding-left:18px;color:rgba(255,255,255,.82);line-height:1.7}
    .note{margin-top:8px;color:var(--muted2);font-size:12px}
    .rates{display:flex;flex-wrap:wrap;gap:10px}
    .pill{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:999px;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.15);font-size:13px;color:rgba(255,255,255,.92);transition:box-shadow .3s,border-color .3s}
    .pill::before{content:"";width:8px;height:8px;border-radius:999px;background:var(--orange);display:inline-block}
    .pill:hover{border-color:rgba(255,106,0,.6);box-shadow:0 0 24px rgba(255,106,0,.35)}
    .kicker{text-transform:uppercase;letter-spacing:.25em;color:rgba(255,255,255,.6);font-size:12px;margin-bottom:8px}
    .h2{font-size:clamp(28px,4.5vw,44px);margin:0 0 12px}
    .sub{color:rgba(255,255,255,.7)}
    blockquote{font-size:clamp(22px,3.2vw,32px);text-align:center;font-weight:600}
    .footerbar{position:sticky;bottom:0;z-index:50;padding:16px;background:linear-gradient(to top,rgba(0,0,0,.8),rgba(0,0,0,0))}
    .footer-inner{width:min(1200px,100%);margin:0 auto;display:flex;justify-content:space-between;align-items:center;border:1px solid var(--border);background:rgba(0,0,0,.6);border-radius:20px;padding:12px 16px;backdrop-filter:blur(8px)}
    .muted{color:rgba(255,255,255,.6);font-size:12px}
    .reveal{opacity:0;transform:translateY(16px);transition:opacity .6s ease,transform .6s ease}
    .reveal.is-visible{opacity:1;transform:translateY(0)}
    table.pricetable{width:100%;border-collapse:separate;border-spacing:0 8px;margin-top:10px}
    table.pricetable th,table.pricetable td{padding:10px 12px;text-align:left}
    table.pricetable thead th{font-size:13px;color:rgba(255,255,255,.85)}
    table.pricetable tbody tr{background:rgba(255,255,255,.06);border:1px solid var(--border)}
    table.pricetable tbody tr td:first-child{font-weight:600}
    /* Space Gallery */
.tiles{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px;margin-top:20px}
.tile{position:relative;border:1px solid var(--border);background:var(--card);border-radius:18px;overflow:hidden;cursor:pointer;transition:box-shadow .3s,border-color .3s,transform .2s}
.tile:hover{box-shadow:0 0 24px rgba(255,106,0,.35);border-color:rgba(255,106,0,.6);transform:translateY(-2px)}
.tile-media{width:100%;aspect-ratio:4/3;background-size:cover;background-position:center;transition:transform .35s}
.tile:hover .tile-media{transform:scale(1.04)}
.tile-title{position:absolute;left:12px;bottom:12px;padding:6px 10px;border-radius:12px;background:rgba(0,0,0,.55);border:1px solid var(--border);font-weight:600;font-size:13px}

/* Lightbox */
.lightbox{position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:60}
.lightbox.is-open{display:flex}
.lightbox-backdrop{position:absolute;inset:0;background:rgba(0,0,0,.8);backdrop-filter:blur(2px)}
.lightbox img{position:relative;max-width:92vw;max-height:86vh;border-radius:14px;border:1px solid var(--border);box-shadow:0 20px 60px rgba(0,0,0,.6)}
.lightbox-close{position:absolute;top:20px;right:20px;background:var(--orange);color:#000;border:none;border-radius:999px;width:40px;height:40px;font-size:20px;font-weight:700;cursor:pointer;box-shadow:0 0 24px rgba(255,106,0,.45)}
.lightbox-caption{position:absolute;bottom:20px;left:50%;transform:translateX(-50%);color:#fff;background:rgba(0,0,0,.55);border:1px solid var(--border);padding:8px 12px;border-radius:12px;font-size:14px}
  </style>
</head>
<body>
  <div class="topnav">
    <div class="topnav-inner">
      <div class="chip">MADHOUSE</div>
      <nav class="nav" id="topnav-links">
        <a href="#hero">Home</a>
        <a href="#intro">Intro</a>
        <a href="#amphitheatre">Amphitheatre</a>
        <a href="#photography-studio">Photography Studio</a>
        <a href="#conference-room">Conference Room</a>
        <a href="#art-studio">Art Studio</a>
        <a href="#games-room">Games Room</a>
        <a href="#marker-studio">Marker Studio</a>
        <a href="#terrace">Terrace</a>
        <a href="#green-room">Green Room</a>
        <a href="#gallery">Gallery</a>
        <a href="#closing">Quote</a>
        <a href="#contact">Contact</a>
        <a href="#space-gallery">Space Gallery</a>
        <a href="#space-policy">Space Policy</a>
      </nav>
    </div>
  </div>

  <!-- Hero -->
  <section id="hero" class="section" data-image-key="hero">
    <div class="bg-layer"></div>
    <div class="overlay"></div>
    <div class="content center">
      <h1 class="title-xl reveal">MADhouse Space Rental</h1>
      <p class="subtitle reveal">Made for makers, dreamers, and doers</p>
      <p class="hoursline reveal">Mon–Fri • 9 AM–6 PM</p>
    </div>
  </section>

  <!-- Intro (approved copy) -->
  <section id="intro" class="section" data-image-key="booking">
    <div class="bg-layer"></div>
    <div class="overlay"></div>
    <div class="content center">
      <div class="kicker">Welcome</div>
      <h2 class="h2">About MADhouse</h2>
      <p class="lead reveal">At MADhouse, we believe space is more than walls — it’s the energy that fuels ideas. Nestled in the heart of Yaba with a beautiful lagoon view, our versatile and dynamic spaces are designed to inspire creativity, spark collaboration, and elevate every experience. From intimate gatherings to bold projects, MADhouse gives makers, dreamers, and doers the freedom to imagine, create, and launch without limits.</p>
    </div>
  </section>

  <!-- Amphitheatre (first) -->
  <section id="amphitheatre" class="section" data-image-key="amphitheatre">
    <div class="bg-layer"></div><div class="overlay"></div>
    <div class="content">
      <div class="center"><div class="kicker">Space</div><h2 class="h2">Amphitheatre</h2></div>
      <div class="grid-2 reveal">
        <div class="card"><h4>Key Features</h4><ul><li>Capacity: Up to 80 people</li><li>Fans</li><li>TV screen / Interactive panel</li></ul></div>
        <div class="card"><h4>Uses</h4><ul><li>Performances</li><li>Screenings</li><li>Lectures</li><li>Community events</li><li>Panels</li><li>Social events</li></ul><div class="rates" style="margin-top:12px;"><span class="pill">₦100,000 per hour (min 2 hours)</span><span class="pill">₦600,000 per day</span></div></div>
      </div>
    </div>
  </section>

  <!-- Photography Studio (second) -->
  <section id="photography-studio" class="section" data-image-key="photoStudio">
    <div class="bg-layer"></div><div class="overlay"></div>
    <div class="content">
      <div class="center"><div class="kicker">Space</div><h2 class="h2">Photography Studio</h2></div>
      <div class="grid-2 reveal">
        <div class="card"><h4>Key Features</h4><ul><li>2 strobe lights</li><li>Access to 1 backdrop</li><li>1 AD100 Pro light</li><li>Changing area</li><li>Professional photographers (available at a fee on request)</li></ul></div>
        <div>
          <div class="card"><h4>Uses</h4><ul><li>Photography sessions</li><li>Video shoots</li><li>Product shoots</li><li>Content creation</li><li>Others</li></ul>
            <table class="pricetable">
              <thead><tr><th>Video shoot</th><th>Regular</th><th>Student</th></tr></thead>
              <tbody>
                <tr><td>Weekdays (per hour)</td><td>₦30,000</td><td>₦15,000</td></tr>
                <tr><td>Weekends (per hour)</td><td>₦35,000</td><td>₦20,000</td></tr>
              </tbody>
            </table>
            <table class="pricetable">
              <thead><tr><th>Photo shoot</th><th>Regular</th><th>Student</th></tr></thead>
              <tbody>
                <tr><td>Weekdays (per hour)</td><td>₦15,000</td><td>₦10,000</td></tr>
                <tr><td>Weekends (per hour)</td><td>₦20,000</td><td>₦15,000</td></tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Conference Room (renamed) -->
  <section id="conference-room" class="section" data-image-key="conferenceRoom">
    <div class="bg-layer"></div><div class="overlay"></div>
    <div class="content">
      <div class="center"><div class="kicker">Space</div><h2 class="h2">Conference Room</h2></div>
      <div class="grid-2 reveal">
        <div class="card"><h4>Key Features</h4><ul><li>Capacity: Up to 30 people</li><li>TV screen / Interactive panel</li><li>Whiteboard / Flip chart stand</li></ul></div>
        <div class="card"><h4>Uses</h4><ul><li>Workshop</li><li>Training</li></ul><div class="rates" style="margin-top:12px;"><span class="pill">₦350,000 per day</span></div></div>
      </div>
    </div>
  </section>

  <!-- Art Studio -->
  <section id="art-studio" class="section" data-image-key="artStudio">
    <div class="bg-layer"></div><div class="overlay"></div>
    <div class="content">
      <div class="center"><div class="kicker">Space</div><h2 class="h2">Art Studio</h2></div>
      <div class="grid-2 reveal">
        <div class="card"><h4>Key Features</h4><ul><li>Adjustable easels</li><li>Natural lighting</li></ul><div class="note">Other items on request (Trolley, LED light).</div></div>
        <div>
          <div class="card"><h4>Uses</h4><ul><li>Art classes</li><li>Workshops</li><li>Mini group creative sessions</li></ul><div class="rates" style="margin-top:12px;"><span class="pill">Weekly: ₦60,000</span><span class="pill">Monthly: ₦200,000</span></div>
        </div>
      </div>
    </div>
  </section>

  <!-- Games Room -->
  <section id="games-room" class="section" data-image-key="gamesRoom">
    <div class="bg-layer"></div><div class="overlay"></div>
    <div class="content">
      <div class="center"><div class="kicker">Space</div><h2 class="h2">Games Room</h2></div>
      <div class="grid-2 reveal">
        <div class="card"><h4>Key Features</h4><ul><li>Capacity: Up to 30 people</li><li>Loft</li><li>TV screen / Interactive panel</li><li>Executive chairs</li><li>Bean bags</li><li>Access to terrace with lagoon view</li></ul></div>
        <div class="card"><h4>Uses</h4><ul><li>Workshop</li><li>Team retreat</li><li>Host strategy meeting</li></ul><div class="rates" style="margin-top:12px;"><span class="pill">₦550,000 per day</span></div></div>
      </div>
    </div>
  </section>

  <!-- Marker Studio (renamed) -->
  <section id="marker-studio" class="section" data-image-key="markerStudio">
    <div class="bg-layer"></div><div class="overlay"></div>
    <div class="content">
      <div class="center"><div class="kicker">Space</div><h2 class="h2">Marker Studio</h2></div>
      <div class="grid-2 reveal">
        <div class="card"><h4>Key Features</h4><ul><li>Capacity: Up to 40 people</li><li>TV screen / Interactive panel</li><li>Whiteboard / Flip chart stand</li></ul></div>
        <div class="card"><h4>Uses</h4><ul><li>Runway</li><li>Meetups / Hangouts</li><li>Workshops</li></ul><div class="rates" style="margin-top:12px;"><span class="pill">₦450,000 per day</span></div></div>
      </div>
    </div>
  </section>

  <!-- Terrace -->
  <section id="terrace" class="section" data-image-key="terrace">
    <div class="bg-layer"></div><div class="overlay"></div>
    <div class="content">
      <div class="center"><div class="kicker">Space</div><h2 class="h2">Terrace</h2></div>
      <div class="grid-2 reveal">
        <div class="card"><h4>Key Features</h4><ul><li>Open air</li><li>Lagoon View</li><li>Fans</li></ul></div>
        <div>
          <div class="card"><h4>Uses</h4><ul><li>Intimate outdoor event</li><li>Cocktail</li><li>Mini concert</li></ul><div class="rates" style="margin-top:12px;"><span class="pill">Terrace 1 (1st floor): ₦100,000 per day</span><span class="pill">Terrace 2 (2nd floor): ₦150,000 per day</span></div>
        </div>
      </div>
    </div>
  </section>

  <!-- Green Room -->
  <section id="green-room" class="section" data-image-key="greenRoom">
    <div class="bg-layer"></div><div class="overlay"></div>
    <div class="content">
      <div class="center"><div class="kicker">Space</div><h2 class="h2">Green Room</h2></div>
      <div class="grid-2 reveal">
        <div class="card"><h4>Key Features</h4><ul><li>Capacity: Up to 25 people</li><li>TV screen or interactive screen panel</li></ul></div>
        <div class="card"><h4>Uses</h4><ul><li>Screening</li><li>Movie production</li><li>Private / makeup dressing room</li></ul><div class="rates" style="margin-top:12px;"><span class="pill">₦250,000 per day</span></div></div>
      </div>
    </div>
  </section>

  <!-- Gallery (moved later) -->
  <section id="gallery" class="section" data-image-key="gallery">
    <div class="bg-layer"></div><div class="overlay"></div>
    <div class="content">
      <div class="center"><div class="kicker">Space</div><h2 class="h2">Gallery</h2></div>
      <div class="grid-2 reveal">
        <div class="card"><h4>Key Features</h4><ul><li>Capacity: Up to 100 people (conference seating)</li><li>Natural light</li><li>Track spotlights</li><li>Sound system</li><li>Fully air-conditioned</li><li>Interactive display screens</li></ul></div>
        <div>
          <div class="card"><h4>Uses</h4><ul><li>Art exhibitions</li><li>Pop-up shows</li><li>Brand showcases</li><li>Runway shows</li><li>Boutique-style talks</li><li>Fireside chats</li></ul><div class="rates" style="margin-top:12px;"><span class="pill">₦1,000,000 per day for events (other than exhibitions)</span></div>
        </div>
      </div>
    </div>
  </section>
<!-- Space Gallery -->
<section id="space-gallery" class="section" data-image-key="gallery">
  <div class="bg-layer"></div>
  <div class="overlay"></div>
  <div class="content">
    <div class="center">
      <div class="kicker">Browse</div>
      <h2 class="h2">Space Gallery</h2>
      <p class="sub">Click a tile to view full image.</p>
    </div>
    <div class="tiles reveal" id="spaceTiles">
      <div class="tile" data-key="amphitheatre"><div class="tile-media"></div><div class="tile-title">Amphitheatre</div></div>
      <div class="tile" data-key="photoStudio"><div class="tile-media"></div><div class="tile-title">Photography Studio</div></div>
      <div class="tile" data-key="conferenceRoom"><div class="tile-media"></div><div class="tile-title">Conference Room</div></div>
      <div class="tile" data-key="artStudio"><div class="tile-media"></div><div class="tile-title">Art Studio</div></div>
      <div class="tile" data-key="gamesRoom"><div class="tile-media"></div><div class="tile-title">Games Room</div></div>
      <div class="tile" data-key="markerStudio"><div class="tile-media"></div><div class="tile-title">Marker Studio</div></div>
      <div class="tile" data-key="terrace"><div class="tile-media"></div><div class="tile-title">Terrace</div></div>
      <div class="tile" data-key="greenRoom"><div class="tile-media"></div><div class="tile-title">Green Room</div></div>
      <div class="tile" data-key="gallery"><div class="tile-media"></div><div class="tile-title">Gallery</div></div>
    </div>
  </div>
</section>

  <!-- Closing Quote -->
  <section id="closing" class="section" data-image-key="closing">
    <div class="bg-layer"></div><div class="overlay"></div>
    <div class="content center">
      <blockquote class="reveal">“Every great story starts with the right setting, and we have the perfect one for yours.”</blockquote>
    </div>
  </section>

  <!-- Contact (before final policy) -->
  <section id="contact" class="section" data-image-key="hero" style="min-height: 80svh;">
    <div class="bg-layer"></div>
    <div class="overlay" style="background: rgba(0,0,0,.4);"></div>
    <div class="content center">
      <div class="kicker">Get in touch</div>
      <h2 class="h2">Contact</h2>
     <div class="lead reveal" style="margin-top:14px;">Email: <a class="pill" id="emailLink" href="mailto:spaces@tikeraafrica.org">spaces@tikeraafrica.org</a></div>
      <div class="lead reveal" style="margin-top:10px;">Phone: <a class="pill" id="phoneLink" href="tel:+2348105570023">+234 810 557 0023</a></div>
      <p class="lead" style="margin-top:14px;">Opening Days & Hours: <span id="hours2">Mon–Fri, 9 AM – 6 PM</span></p>
    </div>
  </section>

  <!-- Space Policy (final) -->
  <section id="space-policy" class="section" data-image-key="booking">
    <div class="bg-layer"></div>
    <div class="overlay"></div>
    <div class="content">
      <div class="center"><div class="kicker">Policy</div><h2 class="h2">Space Policy</h2></div>
      <div class="card reveal" style="max-width:900px; margin:0 auto;">
        <ul>
          <li>A 50% deposit is required to secure bookings; the balance is due 5 days before the event.</li>
          <li>All rates are fixed and exclusive of Value Added Tax (7.5%); VAT will be added at invoicing.</li>
          <li>A 20% refundable caution fee applies to all space bookings.</li>
          <li>Events on weekends attract a 20% surcharge on the full rental value of the space(s) used.</li>
          <li>Events on public holidays attract a 30% surcharge on the full rental value of the space(s) used.</li>
        </ul>
      </div>
    </div>
  </section>

  <div class="footerbar">
    <div class="footer-inner">
      <span class="muted">© <span id="year"></span> MADhouse</span>
      <a class="chip" href="#contact" style="background:var(--orange);color:#000;border-color:transparent">Book a Space</a>
    </div>
  </div>

  <script>
    // --- Config: paste Drive links or direct image URLs here ---
    const IMAGES = {
      hero: "https://drive.google.com/file/d/1LdcqZ2j_j_MkVnULO-YaO7bd2nUx49rT/view?usp=drive_link",
      booking: "", // optional
      amphitheatre: "https://drive.google.com/file/d/1tfzl2Ico04mcbIc56foSnZoZiPR-h7qX/view?usp=drive_link",
      photoStudio: "https://drive.google.com/file/d/1Qk3Lc9GU82NX0D806bwrTXxrzfRa5Krl/view?usp=drive_link",
      conferenceRoom: "https://drive.google.com/file/d/1X6-uWm9KWK3WsbR0b2EZmn_e6QqmuWL5/view?usp=drive_link", // reused from Meeting Room
      artStudio: "https://drive.google.com/file/d/1EOtUoMErCFcJ7J0GFFWwuWvFsQlFK6Zg/view?usp=drive_link",
      gamesRoom: "https://drive.google.com/file/d/162Ul5OyQmYbUbAr07hVMqi0SDzV5vjAx/view?usp=drive_link",
      markerStudio: "https://drive.google.com/file/d/1HK-oWdfYjkUAfRBcuv2L8glTgttWArTw/view?usp=drive_link", // from Makers Studio
      terrace: "https://drive.google.com/file/d/1p-IMurIfS0r-IuZY8vKc3PaOSjGp0RgA/view?usp=drive_link",
      greenRoom: "https://drive.google.com/file/d/12WWRtB8M6D1OSu--wEeoixJdentCI00F/view?usp=drive_link",
      gallery: "https://drive.google.com/file/d/1yKskQqzaYiT9tGx5c3nbgAiHh4bbzT78/view?usp=drive_link",
      closing: "" // optional
    };

    const CONTACT = { email: "spaces@tikeraafrica.org", phone: "+234 810 557 0023", hoursDays: "Mon–Fri, 9 AM – 6 PM" };

    // --- Helpers: convert Drive links to direct thumbnails ---
    const extractDriveId = (url) => { const m = String(url||"").match(/(?:id=|\/d\/)([\w-]+)/); return m ? m[1] : null; };
    const driveToDirect = (urlOrId) => { if (!urlOrId) return ""; const id = extractDriveId(urlOrId) || urlOrId; return /^[\w-]{10,}$/.test(id) ? `https://drive.google.com/thumbnail?id=${id}&sz=w2000` : urlOrId; };

    // --- Apply backgrounds + parallax ---
    const sections = document.querySelectorAll('.section');
    const parallax = () => { const scrollY = window.scrollY || window.pageYOffset; sections.forEach(sec => { const bg = sec.querySelector('.bg-layer'); if (!bg) return; const rect = sec.getBoundingClientRect(); const offset = rect.top + scrollY; const speed = 0.15; const y = (scrollY - offset) * speed; bg.style.transform = `translate3d(0, ${y}px, 0)`; }); };

    const setBackgrounds = () => { sections.forEach(sec => { const key = sec.getAttribute('data-image-key'); const url = driveToDirect(IMAGES[key]); const bg = sec.querySelector('.bg-layer'); if (url && bg) { bg.style.backgroundImage = `url("${url}")`; } else if (bg) { bg.style.backgroundImage = 'none'; bg.style.background = 'linear-gradient(180deg,#111 0%,#000 100%)'; } }); parallax(); };

    // --- Reveal on scroll ---
    const io = new IntersectionObserver(entries => { entries.forEach(e => { if (e.isIntersecting) e.target.classList.add('is-visible'); }); }, { threshold: 0.15 });
    document.querySelectorAll('.reveal').forEach(el => io.observe(el));

    // --- UI data bindings ---
    document.getElementById('emailLink').setAttribute('href', `mailto:${CONTACT.email}`); document.getElementById('emailLink').textContent = CONTACT.email;
    document.getElementById('phoneLink').setAttribute('href', `tel:${CONTACT.phone.replace(/\s/g,'')}`); document.getElementById('phoneLink').textContent = CONTACT.phone;
    document.getElementById('hours2').textContent = CONTACT.hoursDays;
    document.getElementById('year').textContent = new Date().getFullYear();

    // --- Events ---
    window.addEventListener('scroll', parallax, { passive: true });
    window.addEventListener('resize', parallax);
    window.addEventListener('load', () => { setBackgrounds(); parallax(); initTiles(); initLightbox(); });
// --- Lightbox + Tiles ---
let LB = { root:null, img:null, caption:null, close:null, backdrop:null };

function initTiles(){
  const grid = document.getElementById('spaceTiles');
  if(!grid) return;
  grid.querySelectorAll('.tile').forEach(tile => {
    const key = tile.getAttribute('data-key');
    const titleEl = tile.querySelector('.tile-title');
    const title = titleEl ? titleEl.textContent : '';
    const media = tile.querySelector('.tile-media');
    const url = driveToDirect(IMAGES[key]);
    if (url && media) media.style.backgroundImage = `url("${url}")`;
    tile.addEventListener('click', () => openLightbox(url, title));
  });
}

function initLightbox(){
  LB.root = document.getElementById('lightbox');
  LB.img = document.getElementById('lightboxImg');
  LB.caption = document.getElementById('lightboxCaption');
  LB.close = document.getElementById('lightboxClose');
  LB.backdrop = document.getElementById('lightboxBackdrop');
  if (!LB.root) return;
  const close = () => closeLightbox();
  LB.close && LB.close.addEventListener('click', close);
  LB.backdrop && LB.backdrop.addEventListener('click', close);
  window.addEventListener('keydown', (e) => { if (e.key === 'Escape') close(); });
}

function openLightbox(url, title){
  if (!LB.root || !url) return;
  const hi = url.replace(/sz=w\\d+/, 'sz=w4000');
  const caption = title || '';
  LB.img.setAttribute('src', hi);
  LB.img.setAttribute('alt', caption);
  LB.caption.textContent = caption; // caption = space name only
  LB.root.setAttribute('aria-label', caption);
  LB.root.classList.add('is-open');
  document.body.style.overflow = 'hidden';
}

function closeLightbox(){
  if (!LB.root) return;
  LB.root.classList.remove('is-open');
  LB.img.setAttribute('src', '');
  document.body.style.overflow = '';
}

    // --- Smoke tests (console) ---
    (function tests(){
      const expect = (c,m)=>{ if(!c) console.error('SMOKE TEST:', m); };
      const keys=['hero','amphitheatre','photoStudio','conferenceRoom','artStudio','gamesRoom','markerStudio','terrace','greenRoom','gallery','closing'];
      keys.forEach(k=>expect(Object.prototype.hasOwnProperty.call(IMAGES,k),`IMAGES missing ${k}`));
      expect(!!document.getElementById('amphitheatre'),'#amphitheatre exists');
      expect(document.querySelectorAll('.section').length >= 13,'sections count ok');
      const resolved=driveToDirect(IMAGES.hero); expect(resolved.includes('drive.google.com/thumbnail')||resolved.startsWith('http'),'driveToDirect ok');
    })();
    // additional gallery tests
(function(){
  const expect = (c,m)=>{ if(!c) console.error('SMOKE TEST:', m); };
  const tiles = document.querySelectorAll('#spaceTiles .tile');
  expect(tiles.length === 9,'space tiles should be 9');
  const first = document.querySelector('#spaceTiles .tile');
  if (first) {
    const key = first.getAttribute('data-key');
    const t = first.querySelector('.tile-title')?.textContent || '';
    const url = driveToDirect(IMAGES[key]);
    openLightbox(url, t);
    expect(document.getElementById('lightboxCaption').textContent === t, 'lightbox caption equals space name');
    closeLightbox();
  }
})();

  </script>
</body>
</html>
